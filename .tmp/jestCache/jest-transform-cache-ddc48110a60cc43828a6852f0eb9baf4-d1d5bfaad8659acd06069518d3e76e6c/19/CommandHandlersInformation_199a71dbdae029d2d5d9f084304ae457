0603808b9e416213ef1959c1e2aef5c2
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommandHandlersInformation = void 0;
const CommandNotRegisteredError_1 = require("../../domain/CommandNotRegisteredError");
class CommandHandlersInformation {
    constructor(commandHandlers) {
        this.commandHandlersMap = this.formatHandlers(commandHandlers);
    }
    formatHandlers(commandHandlers) {
        const handlersMap = new Map();
        commandHandlers.forEach(commandHandler => {
            handlersMap.set(commandHandler.subscribedTo(), commandHandler);
        });
        return handlersMap;
    }
    search(command) {
        const commandHandler = this.commandHandlersMap.get(command.constructor);
        if (!commandHandler) {
            throw new CommandNotRegisteredError_1.CommandNotRegisteredError(command);
        }
        return commandHandler;
    }
}
exports.CommandHandlersInformation = CommandHandlersInformation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RhdmlkL0RvY3VtZW50cy9iYW5rLWF1dGgvc3JjL21vZHVsZXMvU2hhcmVkL2luZnJhc3RydWN0dXJlL0NvbW1hbmRCdXMvQ29tbWFuZEhhbmRsZXJzSW5mb3JtYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7O0FBRUEsc0ZBQW1GO0FBRW5GLE1BQWEsMEJBQTBCO0lBR3JDLFlBQVksZUFBK0M7UUFDekQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVPLGNBQWMsQ0FBQyxlQUErQztRQUNwRSxNQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRTlCLGVBQWUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFDdkMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsWUFBWSxFQUFFLEVBQUUsY0FBYyxDQUFDLENBQUM7UUFDakUsQ0FBQyxDQUFDLENBQUM7UUFFSCxPQUFPLFdBQVcsQ0FBQztJQUNyQixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQWdCO1FBQzVCLE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXhFLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDbkIsTUFBTSxJQUFJLHFEQUF5QixDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzlDO1FBRUQsT0FBTyxjQUFjLENBQUM7SUFDeEIsQ0FBQztDQUNGO0FBMUJELGdFQTBCQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvZGF2aWQvRG9jdW1lbnRzL2JhbmstYXV0aC9zcmMvbW9kdWxlcy9TaGFyZWQvaW5mcmFzdHJ1Y3R1cmUvQ29tbWFuZEJ1cy9Db21tYW5kSGFuZGxlcnNJbmZvcm1hdGlvbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi4vLi4vZG9tYWluL0NvbW1hbmQnO1xuaW1wb3J0IHsgQ29tbWFuZEhhbmRsZXIgfSBmcm9tICcuLi8uLi9kb21haW4vQ29tbWFuZEhhbmRsZXInO1xuaW1wb3J0IHsgQ29tbWFuZE5vdFJlZ2lzdGVyZWRFcnJvciB9IGZyb20gJy4uLy4uL2RvbWFpbi9Db21tYW5kTm90UmVnaXN0ZXJlZEVycm9yJztcblxuZXhwb3J0IGNsYXNzIENvbW1hbmRIYW5kbGVyc0luZm9ybWF0aW9uIHtcbiAgcHJpdmF0ZSBjb21tYW5kSGFuZGxlcnNNYXA6IE1hcDxDb21tYW5kLCBDb21tYW5kSGFuZGxlcjxDb21tYW5kPj47XG5cbiAgY29uc3RydWN0b3IoY29tbWFuZEhhbmRsZXJzOiBBcnJheTxDb21tYW5kSGFuZGxlcjxDb21tYW5kPj4pIHtcbiAgICB0aGlzLmNvbW1hbmRIYW5kbGVyc01hcCA9IHRoaXMuZm9ybWF0SGFuZGxlcnMoY29tbWFuZEhhbmRsZXJzKTtcbiAgfVxuXG4gIHByaXZhdGUgZm9ybWF0SGFuZGxlcnMoY29tbWFuZEhhbmRsZXJzOiBBcnJheTxDb21tYW5kSGFuZGxlcjxDb21tYW5kPj4pOiBNYXA8Q29tbWFuZCwgQ29tbWFuZEhhbmRsZXI8Q29tbWFuZD4+IHtcbiAgICBjb25zdCBoYW5kbGVyc01hcCA9IG5ldyBNYXAoKTtcblxuICAgIGNvbW1hbmRIYW5kbGVycy5mb3JFYWNoKGNvbW1hbmRIYW5kbGVyID0+IHtcbiAgICAgIGhhbmRsZXJzTWFwLnNldChjb21tYW5kSGFuZGxlci5zdWJzY3JpYmVkVG8oKSwgY29tbWFuZEhhbmRsZXIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGhhbmRsZXJzTWFwO1xuICB9XG5cbiAgcHVibGljIHNlYXJjaChjb21tYW5kOiBDb21tYW5kKTogQ29tbWFuZEhhbmRsZXI8Q29tbWFuZD4ge1xuICAgIGNvbnN0IGNvbW1hbmRIYW5kbGVyID0gdGhpcy5jb21tYW5kSGFuZGxlcnNNYXAuZ2V0KGNvbW1hbmQuY29uc3RydWN0b3IpO1xuXG4gICAgaWYgKCFjb21tYW5kSGFuZGxlcikge1xuICAgICAgdGhyb3cgbmV3IENvbW1hbmROb3RSZWdpc3RlcmVkRXJyb3IoY29tbWFuZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbW1hbmRIYW5kbGVyO1xuICB9XG59XG4iXSwidmVyc2lvbiI6M30=