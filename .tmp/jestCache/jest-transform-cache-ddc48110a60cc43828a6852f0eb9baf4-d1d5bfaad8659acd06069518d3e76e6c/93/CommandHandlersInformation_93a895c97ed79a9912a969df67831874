fb48b942b109234110f4ec0978752996
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommandHandlersInformation = void 0;
const CommandNotRegisteredError_1 = require("../../domain/CommandNotRegisteredError");
class CommandHandlersInformation {
    constructor(commandHandlers) {
        this.commandHandlersMap = this.formatHandlers(commandHandlers);
    }
    formatHandlers(commandHandlers) {
        const handlersMap = new Map();
        commandHandlers.forEach((commandHandler) => {
            handlersMap.set(commandHandler.subscribedTo(), commandHandler);
        });
        return handlersMap;
    }
    search(command) {
        const commandHandler = this.commandHandlersMap.get(command.constructor);
        if (!commandHandler) {
            throw new CommandNotRegisteredError_1.CommandNotRegisteredError(command);
        }
        return commandHandler;
    }
}
exports.CommandHandlersInformation = CommandHandlersInformation;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RhdmlkL0RvY3VtZW50cy9iYW5rLWF1dGgvc3JjL21vZHVsZXMvU2hhcmVkL2luZnJhc3RydWN0dXJlL0NvbW1hbmRCdXMvQ29tbWFuZEhhbmRsZXJzSW5mb3JtYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7O0FBRUEsc0ZBQW1GO0FBRW5GLE1BQWEsMEJBQTBCO0lBR3JDLFlBQVksZUFBK0M7UUFDekQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVPLGNBQWMsQ0FBQyxlQUErQztRQUNwRSxNQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRTlCLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxjQUFjLEVBQUUsRUFBRTtZQUN6QyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sV0FBVyxDQUFDO0lBQ3JCLENBQUM7SUFFTSxNQUFNLENBQUMsT0FBZ0I7UUFDNUIsTUFBTSxjQUFjLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFeEUsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUNuQixNQUFNLElBQUkscURBQXlCLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDOUM7UUFFRCxPQUFPLGNBQWMsQ0FBQztJQUN4QixDQUFDO0NBQ0Y7QUExQkQsZ0VBMEJDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9kYXZpZC9Eb2N1bWVudHMvYmFuay1hdXRoL3NyYy9tb2R1bGVzL1NoYXJlZC9pbmZyYXN0cnVjdHVyZS9Db21tYW5kQnVzL0NvbW1hbmRIYW5kbGVyc0luZm9ybWF0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi4vLi4vZG9tYWluL0NvbW1hbmRcIjtcbmltcG9ydCB7IENvbW1hbmRIYW5kbGVyIH0gZnJvbSBcIi4uLy4uL2RvbWFpbi9Db21tYW5kSGFuZGxlclwiO1xuaW1wb3J0IHsgQ29tbWFuZE5vdFJlZ2lzdGVyZWRFcnJvciB9IGZyb20gXCIuLi8uLi9kb21haW4vQ29tbWFuZE5vdFJlZ2lzdGVyZWRFcnJvclwiO1xuXG5leHBvcnQgY2xhc3MgQ29tbWFuZEhhbmRsZXJzSW5mb3JtYXRpb24ge1xuICBwcml2YXRlIGNvbW1hbmRIYW5kbGVyc01hcDogTWFwPENvbW1hbmQsIENvbW1hbmRIYW5kbGVyPENvbW1hbmQ+PjtcblxuICBjb25zdHJ1Y3Rvcihjb21tYW5kSGFuZGxlcnM6IEFycmF5PENvbW1hbmRIYW5kbGVyPENvbW1hbmQ+Pikge1xuICAgIHRoaXMuY29tbWFuZEhhbmRsZXJzTWFwID0gdGhpcy5mb3JtYXRIYW5kbGVycyhjb21tYW5kSGFuZGxlcnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBmb3JtYXRIYW5kbGVycyhjb21tYW5kSGFuZGxlcnM6IEFycmF5PENvbW1hbmRIYW5kbGVyPENvbW1hbmQ+Pik6IE1hcDxDb21tYW5kLCBDb21tYW5kSGFuZGxlcjxDb21tYW5kPj4ge1xuICAgIGNvbnN0IGhhbmRsZXJzTWFwID0gbmV3IE1hcCgpO1xuXG4gICAgY29tbWFuZEhhbmRsZXJzLmZvckVhY2goKGNvbW1hbmRIYW5kbGVyKSA9PiB7XG4gICAgICBoYW5kbGVyc01hcC5zZXQoY29tbWFuZEhhbmRsZXIuc3Vic2NyaWJlZFRvKCksIGNvbW1hbmRIYW5kbGVyKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBoYW5kbGVyc01hcDtcbiAgfVxuXG4gIHB1YmxpYyBzZWFyY2goY29tbWFuZDogQ29tbWFuZCk6IENvbW1hbmRIYW5kbGVyPENvbW1hbmQ+IHtcbiAgICBjb25zdCBjb21tYW5kSGFuZGxlciA9IHRoaXMuY29tbWFuZEhhbmRsZXJzTWFwLmdldChjb21tYW5kLmNvbnN0cnVjdG9yKTtcblxuICAgIGlmICghY29tbWFuZEhhbmRsZXIpIHtcbiAgICAgIHRocm93IG5ldyBDb21tYW5kTm90UmVnaXN0ZXJlZEVycm9yKGNvbW1hbmQpO1xuICAgIH1cblxuICAgIHJldHVybiBjb21tYW5kSGFuZGxlcjtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9